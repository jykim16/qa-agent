<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>qa-agent: Agent for Quality Assurance</title>
<script type="module">
import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
mermaid.initialize({startOnLoad:true,theme:'default'});
window.addEventListener('load', () => {
    const moduleData = {"types_TypeScript": {"filename": "types_TypeScript.prompt", "priority": 1, "description": "TypeScript type definitions for TestPlan, TestStep (union type with 4 variants), TestRun, StepResult, and error types. Provides compile-time type safety across the entire codebase.", "dependencies": [], "tags": ["types", "core"], "filepath": "src/types/index.ts"}, "storage_TypeScript": {"filename": "storage_TypeScript.prompt", "priority": 2, "description": "File-based storage service using lowdb for JSON persistence. Handles CRUD operations for test plans and test runs in .qa-agent/ directory. Includes error handling for file operations.", "dependencies": ["types_TypeScript.prompt"], "tags": ["service", "storage"], "filepath": "src/services/storage.ts"}, "bedrock_client_TypeScript": {"filename": "bedrock_client_TypeScript.prompt", "priority": 2, "description": "AWS Bedrock client using Converse API for test plan generation and agentic assertions. Implements streaming for long operations and structured error handling.", "dependencies": ["types_TypeScript.prompt"], "tags": ["service", "llm", "bedrock"], "filepath": "src/services/bedrock-client.ts"}, "rtrvr_client_TypeScript": {"filename": "rtrvr_client_TypeScript.prompt", "priority": 2, "description": "rtrvr.ai client for agentic browser automation and page scraping. Manages trajectory IDs for session continuity and implements retry logic for failed operations.", "dependencies": ["types_TypeScript.prompt"], "tags": ["service", "automation", "rtrvr"], "filepath": "src/services/rtrvr-client.ts"}, "github_client_TypeScript": {"filename": "github_client_TypeScript.prompt", "priority": 2, "description": "GitHub API client for fetching repository information and file contents. Used to provide codebase context during test plan generation.", "dependencies": ["types_TypeScript.prompt"], "tags": ["service", "github"], "filepath": "src/services/github-client.ts"}, "executor_agentic_browsing_TypeScript": {"filename": "executor_agentic_browsing_TypeScript.prompt", "priority": 3, "description": "Executor for agentic browsing steps using rtrvr.ai Agent API. Manages trajectory continuity across steps and captures screenshots for evidence.", "dependencies": ["types_TypeScript.prompt", "rtrvr_client_TypeScript.prompt"], "tags": ["executor", "browsing"], "filepath": "src/executor/agentic-browsing.ts"}, "executor_selenese_TypeScript": {"filename": "executor_selenese_TypeScript.prompt", "priority": 3, "description": "Executor for Selenese steps with deterministic browser commands (click, type, waitForElement, etc.). Provides precise control for repeatable test sequences.", "dependencies": ["types_TypeScript.prompt", "rtrvr_client_TypeScript.prompt"], "tags": ["executor", "selenese"], "filepath": "src/executor/selenese.ts"}, "executor_unit_assertion_TypeScript": {"filename": "executor_unit_assertion_TypeScript.prompt", "priority": 3, "description": "Executor for unit assertion steps with deterministic checks (equals, contains, matches, exists, visible). Uses page scraping to validate assertions.", "dependencies": ["types_TypeScript.prompt", "rtrvr_client_TypeScript.prompt"], "tags": ["executor", "assertion"], "filepath": "src/executor/unit-assertion.ts"}, "executor_agentic_assertion_TypeScript": {"filename": "executor_agentic_assertion_TypeScript.prompt", "priority": 3, "description": "Executor for agentic assertion steps using LLM-as-judge. Scrapes page content and uses Bedrock to evaluate assertions with confidence scoring and reasoning.", "dependencies": ["types_TypeScript.prompt", "bedrock_client_TypeScript.prompt", "rtrvr_client_TypeScript.prompt"], "tags": ["executor", "assertion", "llm"], "filepath": "src/executor/agentic-assertion.ts"}, "generator_test_plan_TypeScript": {"filename": "generator_test_plan_TypeScript.prompt", "priority": 4, "description": "Service that uses Bedrock client and GitHub client to generate structured test plans from plain English requirements. Validates generated steps and stores plans.", "dependencies": ["types_TypeScript.prompt", "bedrock_client_TypeScript.prompt", "github_client_TypeScript.prompt", "storage_TypeScript.prompt"], "tags": ["generator", "llm"], "filepath": "src/services/test-plan-generator.ts"}, "executor_test_plan_TypeScript": {"filename": "executor_test_plan_TypeScript.prompt", "priority": 5, "description": "Orchestrator that executes test plans by dispatching steps to appropriate executors. Implements fail-fast behavior and captures full execution evidence.", "dependencies": ["types_TypeScript.prompt", "storage_TypeScript.prompt", "executor_agentic_browsing_TypeScript.prompt", "executor_selenese_TypeScript.prompt", "executor_unit_assertion_TypeScript.prompt", "executor_agentic_assertion_TypeScript.prompt"], "tags": ["executor", "orchestrator"], "filepath": "src/executor/index.ts"}, "tool_generate_test_plan_TypeScript": {"filename": "tool_generate_test_plan_TypeScript.prompt", "priority": 6, "description": "MCP tool handler for generate_test_plan. Validates input with Zod, orchestrates test plan generation, and returns plan metadata.", "dependencies": ["types_TypeScript.prompt", "generator_test_plan_TypeScript.prompt"], "tags": ["tool", "mcp"], "filepath": "src/tools/generate-test-plan.ts"}, "tool_run_test_plan_TypeScript": {"filename": "tool_run_test_plan_TypeScript.prompt", "priority": 6, "description": "MCP tool handler for run_test_plan. Validates input, orchestrates test execution, and returns execution summary.", "dependencies": ["types_TypeScript.prompt", "executor_test_plan_TypeScript.prompt"], "tags": ["tool", "mcp"], "filepath": "src/tools/run-test-plan.ts"}, "tool_list_test_plans_TypeScript": {"filename": "tool_list_test_plans_TypeScript.prompt", "priority": 6, "description": "MCP tool handler for list_test_plans. Queries storage service with optional project filter and returns plan summaries.", "dependencies": ["types_TypeScript.prompt", "storage_TypeScript.prompt"], "tags": ["tool", "mcp", "query"], "filepath": "src/tools/list-test-plans.ts"}, "tool_list_test_runs_TypeScript": {"filename": "tool_list_test_runs_TypeScript.prompt", "priority": 6, "description": "MCP tool handler for list_test_runs. Queries storage service with optional filters (planId, status) and returns run summaries.", "dependencies": ["types_TypeScript.prompt", "storage_TypeScript.prompt"], "tags": ["tool", "mcp", "query"], "filepath": "src/tools/list-test-runs.ts"}, "tool_get_test_run_TypeScript": {"filename": "tool_get_test_run_TypeScript.prompt", "priority": 6, "description": "MCP tool handler for get_test_run. Retrieves full test run details including step results, screenshots, and LLM reasoning.", "dependencies": ["types_TypeScript.prompt", "storage_TypeScript.prompt"], "tags": ["tool", "mcp", "query"], "filepath": "src/tools/get-test-run.ts"}, "tools_index_TypeScript": {"filename": "tools_index_TypeScript.prompt", "priority": 7, "description": "Central module that imports all tool definitions and registers them with the MCP server. Provides tool discovery and invocation routing.", "dependencies": ["tool_generate_test_plan_TypeScript.prompt", "tool_run_test_plan_TypeScript.prompt", "tool_list_test_plans_TypeScript.prompt", "tool_list_test_runs_TypeScript.prompt", "tool_get_test_run_TypeScript.prompt"], "tags": ["tool", "registry"], "filepath": "src/tools/index.ts"}, "index_TypeScript": {"filename": "index_TypeScript.prompt", "priority": 8, "description": "Main entry point that creates MCP server instance, registers tools, configures stdio transport, and starts the server. Implements proper stderr logging.", "dependencies": ["types_TypeScript.prompt", "tools_index_TypeScript.prompt"], "tags": ["mcp", "server", "entry"], "filepath": "src/index.ts"}};
    
    // Add hover listeners to all nodes
    setTimeout(() => {
        const nodes = document.querySelectorAll('.node');
        nodes.forEach(node => {
            const text = node.querySelector('.nodeLabel');
            if (!text) return;
            
            const nodeText = text.textContent.trim();
            const moduleId = nodeText.split(' ')[0];
            const data = moduleData[moduleId];
            
            if (data) {
                node.style.cursor = 'pointer';
                
                node.addEventListener('mouseenter', (e) => {
                    showTooltip(e, data);
                });
                
                node.addEventListener('mouseleave', () => {
                    hideTooltip();
                });
            }
        });
    }, 500);
});
function showTooltip(e, data) {
    hideTooltip();
    
    const tooltip = document.createElement('div');
    tooltip.id = 'module-tooltip';
    tooltip.innerHTML = `
        <div style="font-weight:600;margin-bottom:8px;font-size:1.1em;">${data.filename}</div>
        <div style="margin-bottom:6px;"><strong>Priority:</strong> ${data.priority}</div>
        <div style="margin-bottom:6px;"><strong>Path:</strong> ${data.filepath}</div>
        <div style="margin-bottom:6px;"><strong>Tags:</strong> ${data.tags.join(', ')}</div>
        <div style="margin-bottom:6px;"><strong>Dependencies:</strong> ${data.dependencies.length > 0 ? data.dependencies.join(', ') : 'None'}</div>
        <div style="margin-top:8px;padding-top:8px;border-top:1px solid #ddd;font-size:0.9em;color:#444;">${data.description}</div>
    `;
    
    document.body.appendChild(tooltip);
    
    const rect = e.target.closest('.node').getBoundingClientRect();
    tooltip.style.left = rect.right + 10 + 'px';
    tooltip.style.top = rect.top + window.scrollY + 'px';
}
function hideTooltip() {
    const existing = document.getElementById('module-tooltip');
    if (existing) existing.remove();
}
</script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,sans-serif;background:#fff;color:#000;padding:2rem;max-width:1400px;margin:0 auto}
h1{font-size:2rem;font-weight:600;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #000}
.diagram{border:1px solid #000;padding:2rem;margin:2rem 0;overflow-x:auto;position:relative}
.mermaid{display:flex;justify-content:center}
#module-tooltip{
    position:absolute;
    background:#fff;
    border:2px solid #000;
    padding:1rem;
    max-width:400px;
    z-index:1000;
    box-shadow:4px 4px 0 rgba(0,0,0,0.1);
    font-size:0.9rem;
    line-height:1.5;
}
.node{transition:opacity 0.2s}
.node:hover{opacity:0.8}
</style></head><body>
<h1>qa-agent: Agent for Quality Assurance</h1>
<div class="diagram"><pre class="mermaid">flowchart TB
        PRD["qa-agent: Agent for Quality Assurance"]
    
    subgraph Shared
        types_TypeScript["types_TypeScript (1)"]
        storage_TypeScript["storage_TypeScript (2)"]
        bedrock_client_TypeScript["bedrock_client_TypeScript (2)"]
        rtrvr_client_TypeScript["rtrvr_client_TypeScript (2)"]
        github_client_TypeScript["github_client_TypeScript (2)"]
        executor_agentic_browsing_TypeScript["executor_agentic_browsing_TypeScript (3)"]
        executor_selenese_TypeScript["executor_selenese_TypeScript (3)"]
        executor_unit_assertion_TypeScript["executor_unit_assertion_TypeScript (3)"]
        executor_agentic_assertion_TypeScript["executor_agentic_assertion_TypeScript (3)"]
        generator_test_plan_TypeScript["generator_test_plan_TypeScript (4)"]
        executor_test_plan_TypeScript["executor_test_plan_TypeScript (5)"]
        tool_generate_test_plan_TypeScript["tool_generate_test_plan_TypeScript (6)"]
        tool_run_test_plan_TypeScript["tool_run_test_plan_TypeScript (6)"]
        tool_list_test_plans_TypeScript["tool_list_test_plans_TypeScript (6)"]
        tool_list_test_runs_TypeScript["tool_list_test_runs_TypeScript (6)"]
        tool_get_test_run_TypeScript["tool_get_test_run_TypeScript (6)"]
        tools_index_TypeScript["tools_index_TypeScript (7)"]
        index_TypeScript["index_TypeScript (8)"]
    end
    
    storage_TypeScript -->|uses| types_TypeScript
    bedrock_client_TypeScript -->|uses| types_TypeScript
    rtrvr_client_TypeScript -->|uses| types_TypeScript
    github_client_TypeScript -->|uses| types_TypeScript
    executor_agentic_browsing_TypeScript -->|uses| types_TypeScript
    executor_agentic_browsing_TypeScript -->|uses| rtrvr_client_TypeScript
    executor_selenese_TypeScript -->|uses| types_TypeScript
    executor_selenese_TypeScript -->|uses| rtrvr_client_TypeScript
    executor_unit_assertion_TypeScript -->|uses| types_TypeScript
    executor_unit_assertion_TypeScript -->|uses| rtrvr_client_TypeScript
    executor_agentic_assertion_TypeScript -->|uses| types_TypeScript
    executor_agentic_assertion_TypeScript -->|uses| bedrock_client_TypeScript
    executor_agentic_assertion_TypeScript -->|uses| rtrvr_client_TypeScript
    generator_test_plan_TypeScript -->|uses| types_TypeScript
    generator_test_plan_TypeScript -->|uses| bedrock_client_TypeScript
    generator_test_plan_TypeScript -->|uses| github_client_TypeScript
    generator_test_plan_TypeScript -->|uses| storage_TypeScript
    executor_test_plan_TypeScript -->|uses| types_TypeScript
    executor_test_plan_TypeScript -->|uses| storage_TypeScript
    executor_test_plan_TypeScript -->|uses| executor_agentic_browsing_TypeScript
    executor_test_plan_TypeScript -->|uses| executor_selenese_TypeScript
    executor_test_plan_TypeScript -->|uses| executor_unit_assertion_TypeScript
    executor_test_plan_TypeScript -->|uses| executor_agentic_assertion_TypeScript
    tool_generate_test_plan_TypeScript -->|uses| types_TypeScript
    tool_generate_test_plan_TypeScript -->|uses| generator_test_plan_TypeScript
    tool_run_test_plan_TypeScript -->|uses| types_TypeScript
    tool_run_test_plan_TypeScript -->|uses| executor_test_plan_TypeScript
    tool_list_test_plans_TypeScript -->|uses| types_TypeScript
    tool_list_test_plans_TypeScript -->|uses| storage_TypeScript
    tool_list_test_runs_TypeScript -->|uses| types_TypeScript
    tool_list_test_runs_TypeScript -->|uses| storage_TypeScript
    tool_get_test_run_TypeScript -->|uses| types_TypeScript
    tool_get_test_run_TypeScript -->|uses| storage_TypeScript
    tools_index_TypeScript -->|uses| tool_generate_test_plan_TypeScript
    tools_index_TypeScript -->|uses| tool_run_test_plan_TypeScript
    tools_index_TypeScript -->|uses| tool_list_test_plans_TypeScript
    tools_index_TypeScript -->|uses| tool_list_test_runs_TypeScript
    tools_index_TypeScript -->|uses| tool_get_test_run_TypeScript
    index_TypeScript -->|uses| types_TypeScript
    index_TypeScript -->|uses| tools_index_TypeScript
    
    classDef frontend fill:#FFF3E0,stroke:#F57C00,stroke-width:2px
    classDef backend fill:#E3F2FD,stroke:#1976D2,stroke-width:2px
    classDef shared fill:#E8F5E9,stroke:#388E3C,stroke-width:2px
    classDef system fill:#E0E0E0,stroke:#616161,stroke-width:3px
    
    class types_TypeScript,storage_TypeScript,bedrock_client_TypeScript,rtrvr_client_TypeScript,github_client_TypeScript,executor_agentic_browsing_TypeScript,executor_selenese_TypeScript,executor_unit_assertion_TypeScript,executor_agentic_assertion_TypeScript,generator_test_plan_TypeScript,executor_test_plan_TypeScript,tool_generate_test_plan_TypeScript,tool_run_test_plan_TypeScript,tool_list_test_plans_TypeScript,tool_list_test_runs_TypeScript,tool_get_test_run_TypeScript,tools_index_TypeScript,index_TypeScript shared
    class PRD system</pre></div>
</body></html>